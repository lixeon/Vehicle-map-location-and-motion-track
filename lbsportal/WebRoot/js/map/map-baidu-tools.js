(function(){function b(r){var n=Math.PI,t=6378245,m=0.006693421622965943;var l=r.x-105;var o=r.y-35;var q=300+l+2*o+0.1*l*l+0.1*l*o+0.1*Math.sqrt(Math.abs(l));q+=(20*Math.sin(6*l*n)+20*Math.sin(2*l*n))*2/3;q+=(20*Math.sin(l*n)+40*Math.sin(l/3*n))*2/3;q+=(150*Math.sin(l/12*n)+300*Math.sin(l/30*n))*2/3;var s=-100+2*l+3*o+0.2*o*o+0.1*l*o+0.2*Math.sqrt(Math.abs(l));s+=(20*Math.sin(6*l*n)+20*Math.sin(2*l*n))*2/3;s+=(20*Math.sin(o*n)+40*Math.sin(o/3*n))*2/3;s+=(160*Math.sin(o/12*n)+320*Math.sin(o*n/30))*2/3;var v=r.y/180*n;var p=Math.sin(v);p=1-m*p*p;var u=Math.sqrt(p);q=(q*180)/(t/u*Math.cos(v)*n);s=(s*180)/((t*(1-m))/(p*u)*n);return{x:r.x+q,y:r.y+s}}function a(i){var f=b(i);var d=f.x;var k=f.y;var h=3.141592653589793*3000/180;var j=Math.sqrt(d*d+k*k)+0.00002*Math.sin(k*h);var g=Math.atan2(k,d)+0.000003*Math.cos(d*h);return{x:j*Math.cos(g)+0.0065,y:j*Math.sin(g)+0.006}}var c=function(e,g,d){var f="http://api.map.baidu.com/geocoder/v2/?ak="+lbs.consts.BAIDU_KEY+"&coordtype=wgs84ll&location="+g+","+e+"&output=json&pois=1";$.ajax({type:"get",async:true,url:f,dataType:"jsonp",jsonp:"callback",success:function(i){if(i.status!="0"){d("地图服务器请求错误：未知区域")}var h=i.result.pois;var j="";if(h!=null&&h.length>0){j=h[0].addr+h[0].name+"附近"}else{j=i.result.formatted_address}d(j)}})};vp.m.getLocation=c;vp.m.adjustXY=function(d,e){return a({x:parseFloat(d),y:parseFloat(e)})}})();